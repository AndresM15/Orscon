<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="This is a metadescription of ing. software 1">
    <title>index</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="vproductos.css">
</head>
<body>
    <section>
        <header class="headerO">
            <nav>
                <h1>Orscon</h1>
            </nav>
        </header>
    </section>
    
    <header id="header">
        <div class="back">
            <div class="menu container">
                <a href="../index/index.html" class="logo">
                    <img src="../logo.png" alt="Orscon">
                </a> 
                <nav class="navbar">
                    <ul>
                        <li id="adminPanelOption" class="hidden">
                            <a href="../index/admin-panel.html">Panel de Administración</a>
                        </li>
                        <li><a href="../catalog/catalog.html">Catálogo</a></li>
                        <li><a href="../review/review.html">Reviews</a></li>
                        <li id="loginOption"><a href="../login/login.html">Iniciar sesión</a></li>
                        <li id="userProfile" class="hidden">
                            <a href="#" id="userName">
                                <img src="../perfilimg.png" alt="Usuario" class="user-image">
                                <span class="user-name"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="#"></a></li>
                                <li><a href="../profile/profile.html">Perfil</a></li>
                                <li><a href="#" id="logout">Cerrar sesión</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main class="product-page">
        <img src="../catalog/cargador1.jpeg" alt="Cargador Negro" class="producto-img main-image">
        <div class="text-box" >
            <h1 class="product-title">Cargador Rápido Pro 65W</h1>
            <p class="price">$89.900</p>
            <p class="stock">Stock: 20</p>
            <p class="description-product">
                Cargador de alta potencia con tecnología GaN, entrega hasta 65W de potencia
                para cargar rápidamente laptops, tablets y smartphones. Diseño compacto y elegante.
            </p>
            <p class="componentes">
                Compatible con USB-C PD y QC 4.0+, protección contra sobrecarga y cortocircuito,
                indicador LED de estado y carcasa resistente al calor.
            </p>
            <div class="buttons-container">
                <button class="carrito" data-id="4">Añadir al carrito</button>
            </div>
        </div>    
        <div class="thumbnails">
            <img src="../catalog/cargador1.jpeg" alt="Cargador Vista 1" class="thumbnail">
            <img src="../catalog/cargador2.jpg" alt="Cargador Vista 2" class="thumbnail">
            <img src="../catalog/cargador3.jpeg" alt="Cargador Vista 3" class="thumbnail">
        </div>
        <div class="rating-section">
            <div class="rating-display">
                <span class="rating-title">Calificación del Producto</span>
                <div class="stars-display">
                    <div class="stars-outer">
                        <div class="stars-inner"></div>
                    </div>
                    <span class="rating-number">0.0</span>
                </div>
            </div>
            
            <div class="rating-input">
                <span class="rating-input-title">Califica este producto</span>
                <div class="stars-input">
                    <input type="radio" id="star5" name="rating" value="5"><label for="star5"></label>
                    <input type="radio" id="star4" name="rating" value="4"><label for="star4"></label>
                    <input type="radio" id="star3" name="rating" value="3"><label for="star3"></label>
                    <input type="radio" id="star2" name="rating" value="2"><label for="star2"></label>
                    <input type="radio" id="star1" name="rating" value="1"><label for="star1"></label>
                </div>
            </div>
            <div class="comment-section">
                <span class="comment-title">Deja tu comentario</span>
                <textarea class="comment-box" placeholder="Escribe tu comentario aquí..."></textarea>
                <button class="submit-button">Enviar Reseña</button>
            </div>
        </div>
    </main>

    <footer class="piePagina">
        <div class="soporte">
            <nav>
                <ul>
                    <li>24-HORAS SERVICIO AL CLIENTE</li>
                    <li>TELÉFONOS: +57 3207196190</li>
                    <li>Email: soporte@merkalu.com</li>
                </ul>
            </nav>
        </div>
        <div class="servicioCliente">
            <ul>
                <li><a href="#">Preguntas frecuentes</a></li>
                <li><a href="#">Términos y condiciones</a></li>
                <li><a href="#">Política de privacidad</a></li>
            </ul>
        </div>
        <div class="siguenos">
            <ul>
                <li>Síguenos en:</li>
                <li><a href="#">Facebook</a></li>
                <li><a href="#">Twitter</a></li>
                <li><a href="#">Instagram</a></li>
            </ul>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="../carrito/header.js"></script>
    <script src="../carrito/carrito.js"></script>
    <script src="vproductos.js"></script>
    <script>
    document.querySelectorAll('.carrito').forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            const productId = this.getAttribute('data-id');
            console.log('Producto seleccionado ID:', productId); // Debug log
            
            // Guardar el ID del producto en localStorage
            localStorage.setItem('selectedProductId', productId);
            
            const productContainer = this.closest('.text-box');
            const mainImage = document.querySelector('.producto-img');
            const priceText = productContainer.querySelector('.price').textContent;
            const price = parseFloat(priceText.replace(/[^0-9.]/g, ''));
            const product = {
                id: productId,
                name: productContainer.querySelector('.product-title').textContent,
                price: price,
                image: mainImage.src,
                quantity: 1
            };
            
            // Guardar la cantidad en localStorage
            localStorage.setItem('quantity', '1');
            
            addToCart(product);
            
            // Mostrar confirmación
            alert('Producto añadido al carrito');
        });
    });
    </script>
</body>
</html>