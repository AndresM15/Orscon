<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Carrito de compras</title>
	<link rel="stylesheet" href="../style.css">
	<link rel="stylesheet" href="vista.css">
	<link rel="stylesheet" href="carrito.css">
</head>

<body>
	<section>
		<header class="headerO">
			<nav>
				<h1>Orscon</h1>
			</nav>
		</header>
	</section>
	<header>
		<div class="back">
			<div class="menu container">
				<a href="../index/index.html" class="logo">
					<img src="../logo.png" alt="Orscon">
				</a> 
				<input type="checkbox" id="menu"/>
				<label for="menu">
					<img src="../menu.png" class="menu-icono" alt="logo">
				</label>
				<nav class="navbar">
					<ul>
						<li><a href="../catalog/catalog.html">Catalogo</a></li>
						<li><a href="../review/review.html">Reviews</a></li>
						<li><a href="../login/login.html">Iniciar sesion</a></li>
					</ul>
				</nav>
			</div>
		</div>
	</header>
	<div class="cart-list">
		<h2>Carrito de compras</h2>
		<div id="cartItems"></div>
		<div class="cart-total" id="cartTotal"></div>
	</div>
    <button id="btn-comprar" class="btn-comprar">Comprar</button>

    <script>
        document.getElementById('btn-comprar').addEventListener('click', function() {
            // Verificar si hay un producto seleccionado
            const productId = localStorage.getItem('selectedProductId');
            if (!productId) {
                alert('No hay productos en el carrito');
                return;
            }

            // Verificar si el usuario está autenticado
            const token = localStorage.getItem('token');
            if (!token) {
                alert('Por favor, inicia sesión para continuar con la compra');
                window.location.href = '../login/login.html';
                return;
            }

            // Redirigir al formulario de pago
            window.location.href = '../portal_pagos/portal.html';
        });
    </script>

	<footer class="piePagina">
		<div class="soporte">
			<nav>
				<ul>
					<li>24-HORAS SERVICIO AL CLIENTE</li>
					<li>TELÉFONOS: +57 3207196190</li>
					<li>Email: soporte@merkalu.com</li>
				</ul>
			</nav>
		</div>
		<div class="servicioCliente">
			<ul>
				<li><a href="#">Preguntas frecuentes</a></li>
				<li><a href="#">Términos y condiciones</a></li>
				<li><a href="#">Política de privacidad</a></li>
			</ul>
		</div>
		<div class="siguenos">
			<ul>
				<li>Síguenos en:</li>
				<li><a href="#">Facebook</a></li>
				<li><a href="#">Twitter</a></li>
				<li><a href="#">Instagram</a></li>
			</ul>
		</div>
	</footer>
	<script src="vista.js"></script>
</body>
</html>